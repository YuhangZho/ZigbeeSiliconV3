<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Silicon Labs Bluetooth API: Connection</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Silicon Labs Bluetooth API
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__sl__bt__connection.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Connection</div>  </div>
</div><!--header-->
<div class="contents">

<p>Connection.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__sl__bt__evt__connection__opened"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__evt__connection__opened.html">sl_bt_evt_connection_opened</a></td></tr>
<tr class="memdesc:group__sl__bt__evt__connection__opened"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates that a new connection was opened. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__sl__bt__evt__connection__parameters"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__evt__connection__parameters.html">sl_bt_evt_connection_parameters</a></td></tr>
<tr class="memdesc:group__sl__bt__evt__connection__parameters"><td class="mdescLeft">&#160;</td><td class="mdescRight">Triggered whenever the connection parameters are changed and at any time a connection is established. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__sl__bt__evt__connection__phy__status"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__evt__connection__phy__status.html">sl_bt_evt_connection_phy_status</a></td></tr>
<tr class="memdesc:group__sl__bt__evt__connection__phy__status"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates that PHY update procedure is completed. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__sl__bt__evt__connection__rssi"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__evt__connection__rssi.html">sl_bt_evt_connection_rssi</a></td></tr>
<tr class="memdesc:group__sl__bt__evt__connection__rssi"><td class="mdescLeft">&#160;</td><td class="mdescRight">Triggered when an connection_get_rssi command has completed. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__sl__bt__evt__connection__closed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__evt__connection__closed.html">sl_bt_evt_connection_closed</a></td></tr>
<tr class="memdesc:group__sl__bt__evt__connection__closed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates that a connection was closed. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gaceb6754884ba191a53b5c8efc2f7a397"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__connection.html#gaceb6754884ba191a53b5c8efc2f7a397">connection_security_t</a> { <a class="el" href="group__sl__bt__connection.html#ggaceb6754884ba191a53b5c8efc2f7a397acfb0b4650a2ba1465924e45f6085a37d">connection_mode1_level1</a> = 0x0, 
<a class="el" href="group__sl__bt__connection.html#ggaceb6754884ba191a53b5c8efc2f7a397a694a4cc7f729536cbabb093ad8318d72">connection_mode1_level2</a> = 0x1, 
<a class="el" href="group__sl__bt__connection.html#ggaceb6754884ba191a53b5c8efc2f7a397a110b2274910312796f22477a6fa09ef3">connection_mode1_level3</a> = 0x2, 
<a class="el" href="group__sl__bt__connection.html#ggaceb6754884ba191a53b5c8efc2f7a397adda715815cfa59dc1369d02c9eeb3864">connection_mode1_level4</a> = 0x3
 }<tr class="memdesc:gaceb6754884ba191a53b5c8efc2f7a397"><td class="mdescLeft">&#160;</td><td class="mdescRight">Security Modes.  <a href="group__sl__bt__connection.html#gaceb6754884ba191a53b5c8efc2f7a397">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:gaceb6754884ba191a53b5c8efc2f7a397"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac2453ab6efcbfc71b3bb23b3fffce1df"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__connection.html#gac2453ab6efcbfc71b3bb23b3fffce1df">sl_bt_connection_set_default_parameters</a> (uint16_t min_interval, uint16_t max_interval, uint16_t latency, uint16_t timeout, uint16_t min_ce_length, uint16_t max_ce_length)</td></tr>
<tr class="separator:gac2453ab6efcbfc71b3bb23b3fffce1df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff87bb1575d6eed0271deed1eb81d92b"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__connection.html#gaff87bb1575d6eed0271deed1eb81d92b">sl_bt_connection_set_default_preferred_phy</a> (uint8_t preferred_phy, uint8_t accepted_phy)</td></tr>
<tr class="separator:gaff87bb1575d6eed0271deed1eb81d92b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabb952445e50f64228b279fe9969001fe"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__connection.html#gabb952445e50f64228b279fe9969001fe">sl_bt_connection_open</a> (<a class="el" href="structbd__addr.html">bd_addr</a> address, uint8_t address_type, uint8_t initiating_phy, uint8_t *connection)</td></tr>
<tr class="separator:gabb952445e50f64228b279fe9969001fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga322a5f4020bef878c5fb309371d1f867"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__connection.html#ga322a5f4020bef878c5fb309371d1f867">sl_bt_connection_set_parameters</a> (uint8_t connection, uint16_t min_interval, uint16_t max_interval, uint16_t latency, uint16_t timeout, uint16_t min_ce_length, uint16_t max_ce_length)</td></tr>
<tr class="separator:ga322a5f4020bef878c5fb309371d1f867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga99cc41717415928e08b79e1cc3b1a04e"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__connection.html#ga99cc41717415928e08b79e1cc3b1a04e">sl_bt_connection_set_preferred_phy</a> (uint8_t connection, uint8_t preferred_phy, uint8_t accepted_phy)</td></tr>
<tr class="separator:ga99cc41717415928e08b79e1cc3b1a04e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga92c4ee2ce006445af24337077ba988e5"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__connection.html#ga92c4ee2ce006445af24337077ba988e5">sl_bt_connection_disable_slave_latency</a> (uint8_t connection, uint8_t disable)</td></tr>
<tr class="separator:ga92c4ee2ce006445af24337077ba988e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00da23bd159c6a63460fe0fc2d6e338c"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__connection.html#ga00da23bd159c6a63460fe0fc2d6e338c">sl_bt_connection_get_rssi</a> (uint8_t connection)</td></tr>
<tr class="separator:ga00da23bd159c6a63460fe0fc2d6e338c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga13b32994ecfe0e7129182bba734ff5c4"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__connection.html#ga13b32994ecfe0e7129182bba734ff5c4">sl_bt_connection_read_channel_map</a> (uint8_t connection, size_t max_channel_map_size, size_t *channel_map_len, uint8_t *channel_map)</td></tr>
<tr class="separator:ga13b32994ecfe0e7129182bba734ff5c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f55470c777dd3c65617d9493ea595c7"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__connection.html#ga7f55470c777dd3c65617d9493ea595c7">sl_bt_connection_close</a> (uint8_t connection)</td></tr>
<tr class="separator:ga7f55470c777dd3c65617d9493ea595c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Connection. </p>
<p>The commands and events in this class are related to managing connection establishment, parameter setting, and disconnection procedures. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gaceb6754884ba191a53b5c8efc2f7a397"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaceb6754884ba191a53b5c8efc2f7a397">&#9670;&nbsp;</a></span>connection_security_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__sl__bt__connection.html#gaceb6754884ba191a53b5c8efc2f7a397">connection_security_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Security Modes. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaceb6754884ba191a53b5c8efc2f7a397acfb0b4650a2ba1465924e45f6085a37d"></a>connection_mode1_level1&#160;</td><td class="fielddoc"><p>(0x0) No security </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaceb6754884ba191a53b5c8efc2f7a397a694a4cc7f729536cbabb093ad8318d72"></a>connection_mode1_level2&#160;</td><td class="fielddoc"><p>(0x1) Unauthenticated pairing with encryption </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaceb6754884ba191a53b5c8efc2f7a397a110b2274910312796f22477a6fa09ef3"></a>connection_mode1_level3&#160;</td><td class="fielddoc"><p>(0x2) Authenticated pairing with encryption </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaceb6754884ba191a53b5c8efc2f7a397adda715815cfa59dc1369d02c9eeb3864"></a>connection_mode1_level4&#160;</td><td class="fielddoc"><p>(0x3) Authenticated Secure Connections pairing with encryption using a 128-bit strength encryption key </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gac2453ab6efcbfc71b3bb23b3fffce1df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac2453ab6efcbfc71b3bb23b3fffce1df">&#9670;&nbsp;</a></span>sl_bt_connection_set_default_parameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_bt_connection_set_default_parameters </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>min_interval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>max_interval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>latency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>min_ce_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>max_ce_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the default Bluetooth connection parameters. The values are valid for all subsequent connections initiated by this device. To change parameters of an already established connection, use the command <a class="el" href="group__sl__bt__connection.html#ga322a5f4020bef878c5fb309371d1f867">sl_bt_connection_set_parameters</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">min_interval</td><td><p class="starttd">Minimum value for the connection event interval. This must be set less than or equal to <code>max_interval</code>.</p><ul>
<li>Time = Value x 1.25 ms</li>
<li>Range: 0x0006 to 0x0c80</li>
<li>Time Range: 7.5 ms to 4 s</li>
</ul>
<p class="endtd">Default value: 20 ms </p>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_interval</td><td><p class="starttd">Maximum value for the connection event interval. This must be set greater than or equal to <code>min_interval</code>.</p><ul>
<li>Time = Value x 1.25 ms</li>
<li>Range: 0x0006 to 0x0c80</li>
<li>Time Range: 7.5 ms to 4 s</li>
</ul>
<p class="endtd">Default value: 50 ms </p>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">latency</td><td><p class="starttd">Slave latency, which defines how many connection intervals the slave can skip if it has no data to send</p><ul>
<li>Range: 0x0000 to 0x01f4</li>
</ul>
<p class="endtd">Default value: 0 </p>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td><p class="starttd">Supervision timeout, which defines the time that the connection is maintained although the devices can't communicate at the currently configured connection intervals.</p><ul>
<li>Range: 0x000a to 0x0c80</li>
<li>Time = Value x 10 ms</li>
<li>Time Range: 100 ms to 32 s</li>
<li>The value in milliseconds must be larger than (1 + <code>latency</code>) * <code>max_interval</code> * 2, where <code>max_interval</code> is given in milliseconds</li>
</ul>
<p>Set the supervision timeout at a value which allows communication attempts over at least a few connection intervals.</p>
<p class="endtd">Default value: 1000 ms </p>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">min_ce_length</td><td><p class="starttd">Minimum value for the connection event length. This must be set be less than or equal to <code>max_ce_length</code>.</p><ul>
<li>Time = Value x 0.625 ms</li>
<li>Range: 0x0000 to 0xffff</li>
</ul>
<p>Default value: 0x0000</p>
<p class="endtd">Value is not currently used and is reserved for future. Set to 0. </p>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_ce_length</td><td><p class="starttd">Maximum value for the connection event length. This must be set greater than or equal to <code>min_ce_length</code>.</p><ul>
<li>Time = Value x 0.625 ms</li>
<li>Range: 0x0000 to 0xffff</li>
</ul>
<p class="endtd">Default value: 0xffff </p>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise. </dd></dl>

</div>
</div>
<a id="gaff87bb1575d6eed0271deed1eb81d92b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaff87bb1575d6eed0271deed1eb81d92b">&#9670;&nbsp;</a></span>sl_bt_connection_set_default_preferred_phy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_bt_connection_set_default_preferred_phy </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>preferred_phy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>accepted_phy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set default preferred and accepted PHYs. PHY settings will be used for all subsequent connections. Non-preferred PHY can also be set if the remote device does not accept any of the preferred PHYs.</p>
<p>The parameter <code>accepted_phy</code> is used to specify PHYs that the stack can accept in a remotely-initiated PHY update request. A PHY update will not happen if none of the accepted PHYs are present in the request.</p>
<p><b>NOTE:</b> 2M and Coded PHYs are not supported by all devices.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">preferred_phy</td><td><p class="starttd">Preferred PHYs. This parameter is a bitfield and multiple PHYs can be set.</p><ul>
<li><b>0x01:</b> 1M PHY</li>
<li><b>0x02:</b> 2M PHY</li>
<li><b>0x04:</b> Coded PHY</li>
<li><b>0xff:</b> Any PHYs</li>
</ul>
<p class="endtd">Default: 0xff (no preference) </p>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accepted_phy</td><td><p class="starttd">Accepted PHYs in remotely-initiated PHY update request. This parameter is a bitfield and multiple PHYs can be set.</p><ul>
<li><b>0x01:</b> 1M PHY</li>
<li><b>0x02:</b> 2M PHY</li>
<li><b>0x04:</b> Coded PHY</li>
<li><b>0xff:</b> Any PHYs</li>
</ul>
<p class="endtd">Default: 0xff (all PHYs accepted) </p>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise. </dd></dl>

</div>
</div>
<a id="gabb952445e50f64228b279fe9969001fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabb952445e50f64228b279fe9969001fe">&#9670;&nbsp;</a></span>sl_bt_connection_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_bt_connection_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbd__addr.html">bd_addr</a>&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>address_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>initiating_phy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>connection</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Connect to an advertising device with the specified initiating PHY on which connectable advertisements on primary advertising channels are received. The Bluetooth stack will enter a state where it continuously scans for the connectable advertising packets from the remote device, which matches the Bluetooth address given as a parameter. Scan parameters set in <a class="el" href="group__sl__bt__scanner.html#ga4b5ff0db2df23db10632f11940b8351f">sl_bt_scanner_set_timing</a> are used in this operation. Upon receiving the advertising packet, the module will send a connection request packet to the target device to initiate a Bluetooth connection. To cancel an ongoing connection process, use <a class="el" href="group__sl__bt__connection.html#ga7f55470c777dd3c65617d9493ea595c7">sl_bt_connection_close</a> command with the handle received in response from this command.</p>
<p>A connection is opened in no-security mode. If the GATT client needs to read or write the attributes on GATT server requiring encryption or authentication, it must first encrypt the connection using an appropriate authentication method.</p>
<p>If a connection can't be established (for example, the remote device has gone out of range, has entered into deep sleep, or is not advertising), the stack will try to connect forever. In this case, the application will not get an event related to the connection request. To recover from this situation, the application can implement a timeout and call <a class="el" href="group__sl__bt__connection.html#ga7f55470c777dd3c65617d9493ea595c7">sl_bt_connection_close</a> to cancel the connection request.</p>
<p>This command fails with the connection limit exceeded error if the number of connections attempted exceeds the configured MAX_CONNECTIONS value.</p>
<p>This command fails with the invalid parameter error if the initiating PHY value is invalid or the device does not support PHY.</p>
<p>Later calls of this command have to wait for the ongoing command to complete. A received event <a class="el" href="group__sl__bt__evt__connection__opened.html">sl_bt_evt_connection_opened</a> indicates that the connection opened successfully and a received event <a class="el" href="group__sl__bt__evt__connection__closed.html">sl_bt_evt_connection_closed</a> indicates that connection failures have occurred.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>Address of the device to connect to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address_type</td><td>Enum <a class="el" href="group__sl__bt__gap.html#gae3bd956077f8782bf17574589b6de317">gap_address_type_t</a>. Address type of the device to connect to. Values:<ul>
<li><b>gap_public_address (0x0):</b> Public device address</li>
<li><b>gap_static_address (0x1):</b> Static device address</li>
<li><b>gap_random_resolvable_address (0x2):</b> Private resolvable random address</li>
<li><b>gap_random_nonresolvable_address (0x3):</b> Private non-resolvable random address </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">initiating_phy</td><td>Enum <a class="el" href="group__sl__bt__gap.html#gaea26a44520b4c4ba28feeced4313ea20">gap_phy_type_t</a>. The initiating PHY. Values:<ul>
<li><b>gap_1m_phy (0x1):</b> 1M PHY</li>
<li><b>gap_coded_phy (0x4):</b> Coded PHY </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">connection</td><td>Handle that will be assigned to the connection after the connection is established. This handle is valid only if the result code of this response is 0 (zero).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise.</dd></dl>
<p><b>Events</b> </p><ul>
<li><a class="el" href="group__sl__bt__evt__connection__opened.html">sl_bt_evt_connection_opened</a> - This event is triggered after the connection is opened and indicates whether the devices are already bonded and whether the role of the Bluetooth device is Slave or Master.</li>
<li><a class="el" href="group__sl__bt__evt__connection__parameters.html">sl_bt_evt_connection_parameters</a> - This event indicates the connection parameters and security mode of the connection. </li>
</ul>

</div>
</div>
<a id="ga322a5f4020bef878c5fb309371d1f867"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga322a5f4020bef878c5fb309371d1f867">&#9670;&nbsp;</a></span>sl_bt_connection_set_parameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_bt_connection_set_parameters </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>min_interval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>max_interval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>latency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>min_ce_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>max_ce_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Request a change in the connection parameters of a Bluetooth connection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">connection</td><td>Connection Handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">min_interval</td><td>Minimum value for the connection event interval. This must be set less than or equal to <code>max_interval</code>.<ul>
<li>Time = Value x 1.25 ms</li>
<li>Range: 0x0006 to 0x0c80</li>
<li>Time Range: 7.5 ms to 4 s </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_interval</td><td>Maximum value for the connection event interval. This must be set greater than or equal to <code>min_interval</code>.<ul>
<li>Time = Value x 1.25 ms</li>
<li>Range: 0x0006 to 0x0c80</li>
<li>Time Range: 7.5 ms to 4 s </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">latency</td><td><p class="starttd">Slave latency, which defines how many connection intervals the slave can skip if it has no data to send</p><ul>
<li>Range: 0x0000 to 0x01f4</li>
</ul>
<p class="endtd">Use 0x0000 for default value </p>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td><p class="starttd">Supervision timeout, which defines the time that the connection is maintained although the devices can't communicate at the currently configured connection intervals.</p><ul>
<li>Range: 0x000a to 0x0c80</li>
<li>Time = Value x 10 ms</li>
<li>Time Range: 100 ms to 32 s</li>
<li>The value in milliseconds must be larger than (1 + <code>latency</code>) * <code>max_interval</code> * 2, where <code>max_interval</code> is given in milliseconds</li>
</ul>
<p class="endtd">Set the supervision timeout at a value which allows communication attempts over at least a few connection intervals. </p>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">min_ce_length</td><td><p class="starttd">Minimum value for the connection event length. This must be set less than or equal to <code>max_ce_length</code>.</p><ul>
<li>Time = Value x 0.625 ms</li>
<li>Range: 0x0000 to 0xffff</li>
</ul>
<p class="endtd">Value is not currently used and is reserved for future. Set to 0. </p>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_ce_length</td><td><p class="starttd">Maximum value for the connection event length. This must be set greater than or equal to <code>min_ce_length</code>.</p><ul>
<li>Time = Value x 0.625 ms</li>
<li>Range: 0x0000 to 0xffff</li>
</ul>
<p class="endtd">Use 0xffff for no limitation. </p>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise.</dd></dl>
<p><b>Events</b> </p><ul>
<li><a class="el" href="group__sl__bt__evt__connection__parameters.html">sl_bt_evt_connection_parameters</a> - Triggered after new connection parameters are applied on the connection. </li>
</ul>

</div>
</div>
<a id="ga99cc41717415928e08b79e1cc3b1a04e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga99cc41717415928e08b79e1cc3b1a04e">&#9670;&nbsp;</a></span>sl_bt_connection_set_preferred_phy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_bt_connection_set_preferred_phy </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>preferred_phy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>accepted_phy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets preferred and accepted PHYs for the given connection. Event <a class="el" href="group__sl__bt__evt__connection__phy__status.html">sl_bt_evt_connection_phy_status</a> is received when PHY update procedure is completed. Non-preferred PHY can also be set if remote device does not accept any of the preferred PHYs.</p>
<p>The parameter <code>accepted_phy</code> is used for specifying the PHYs that the stack can accept in a remote initiated PHY update request. A PHY update will not occur if none of the accepted PHYs presents in the request.</p>
<p><b>NOTE:</b> 2M and Coded PHYs are not supported by all devices.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">connection</td><td>Connection handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">preferred_phy</td><td><p class="starttd">Preferred PHYs. This parameter is a bitfield and multiple PHYs can be set.</p><ul>
<li><b>0x01:</b> 1M PHY</li>
<li><b>0x02:</b> 2M PHY</li>
<li><b>0x04:</b> 125k Coded PHY (S=8)</li>
<li><b>0x08:</b> 500k Coded PHY (S=2)</li>
</ul>
<p class="endtd">Default: 0xff (no preference) </p>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accepted_phy</td><td><p class="starttd">Accepted PHYs in remotely-initiated PHY update requests. This parameter is a bitfield and multiple PHYs can be set.</p><ul>
<li><b>0x01:</b> 1M PHY</li>
<li><b>0x02:</b> 2M PHY</li>
<li><b>0x04:</b> Coded PHY</li>
<li><b>0xff:</b> Any PHYs</li>
</ul>
<p class="endtd">Default: 0xff (all PHYs accepted) </p>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise.</dd></dl>
<p><b>Events</b> </p><ul>
<li><a class="el" href="group__sl__bt__evt__connection__phy__status.html">sl_bt_evt_connection_phy_status</a> </li>
</ul>

</div>
</div>
<a id="ga92c4ee2ce006445af24337077ba988e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga92c4ee2ce006445af24337077ba988e5">&#9670;&nbsp;</a></span>sl_bt_connection_disable_slave_latency()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_bt_connection_disable_slave_latency </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>disable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Temporarily enable or disable slave latency. Used only when Bluetooth device is acting as slave. When slave latency is disabled, the slave latency connection parameter is not set to 0 but the device will wake up on every connection interval to receive and send packets.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">connection</td><td>Connection Handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">disable</td><td>0 enable, 1 disable slave latency. Default: 0</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise. </dd></dl>

</div>
</div>
<a id="ga00da23bd159c6a63460fe0fc2d6e338c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga00da23bd159c6a63460fe0fc2d6e338c">&#9670;&nbsp;</a></span>sl_bt_connection_get_rssi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_bt_connection_get_rssi </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>connection</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the latest RSSI value of a Bluetooth connection. The RSSI value will be reported in a <a class="el" href="group__sl__bt__evt__connection__rssi.html">sl_bt_evt_connection_rssi</a> event.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">connection</td><td>Connection handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise.</dd></dl>
<p><b>Events</b> </p><ul>
<li><a class="el" href="group__sl__bt__evt__connection__rssi.html">sl_bt_evt_connection_rssi</a> - Triggered when this command has completed. </li>
</ul>

</div>
</div>
<a id="ga13b32994ecfe0e7129182bba734ff5c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga13b32994ecfe0e7129182bba734ff5c4">&#9670;&nbsp;</a></span>sl_bt_connection_read_channel_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_bt_connection_read_channel_map </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_channel_map_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>channel_map_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>channel_map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read channel map for a specified connection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">connection</td><td>Connection Handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_channel_map_size</td><td>Size of output buffer passed in <code>channel_map</code> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">channel_map_len</td><td>On return, set to the length of output data written to <code>channel_map</code> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">channel_map</td><td><p class="starttd">This parameter is 5 bytes and contains 37 1-bit fields. The nth field (in the range 0 to 36) contains the value for the link layer channel index n.</p><ul>
<li><b>0:</b> Channel n is unused.</li>
<li><b>1:</b> Channel n is used.</li>
</ul>
<p class="endtd">The most significant bits are reserved for future use. </p>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise. </dd></dl>

</div>
</div>
<a id="ga7f55470c777dd3c65617d9493ea595c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7f55470c777dd3c65617d9493ea595c7">&#9670;&nbsp;</a></span>sl_bt_connection_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_bt_connection_close </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>connection</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close a Bluetooth connection or cancel an ongoing connection establishment process. The parameter is a connection handle which is reported in <a class="el" href="group__sl__bt__evt__connection__opened.html">sl_bt_evt_connection_opened</a> event or <a class="el" href="group__sl__bt__connection.html#gabb952445e50f64228b279fe9969001fe">sl_bt_connection_open</a> command response.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">connection</td><td>Handle of the connection to be closed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise.</dd></dl>
<p><b>Events</b> </p><ul>
<li><a class="el" href="group__sl__bt__evt__connection__closed.html">sl_bt_evt_connection_closed</a> </li>
</ul>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
