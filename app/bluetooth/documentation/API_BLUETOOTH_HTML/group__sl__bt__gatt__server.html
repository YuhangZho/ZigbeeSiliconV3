<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Silicon Labs Bluetooth API: GATT Server</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Silicon Labs Bluetooth API
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__sl__bt__gatt__server.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">GATT Server</div>  </div>
</div><!--header-->
<div class="contents">

<p>GATT Server.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__sl__bt__evt__gatt__server__attribute__value"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__evt__gatt__server__attribute__value.html">sl_bt_evt_gatt_server_attribute_value</a></td></tr>
<tr class="memdesc:group__sl__bt__evt__gatt__server__attribute__value"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates that the value of an attribute in the local GATT database was changed by a remote GATT client. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__sl__bt__evt__gatt__server__user__read__request"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__evt__gatt__server__user__read__request.html">sl_bt_evt_gatt_server_user_read_request</a></td></tr>
<tr class="memdesc:group__sl__bt__evt__gatt__server__user__read__request"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates that a remote GATT client is attempting to read a value of an attribute from the local GATT database, where the attribute was defined in the GATT database XML file to have the type="user". <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__sl__bt__evt__gatt__server__user__write__request"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__evt__gatt__server__user__write__request.html">sl_bt_evt_gatt_server_user_write_request</a></td></tr>
<tr class="memdesc:group__sl__bt__evt__gatt__server__user__write__request"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates that a remote GATT client is attempting to write a value of an attribute into the local GATT database, where the attribute was defined in the GATT database XML file to have the type="user". <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__sl__bt__evt__gatt__server__characteristic__status"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__evt__gatt__server__characteristic__status.html">sl_bt_evt_gatt_server_characteristic_status</a></td></tr>
<tr class="memdesc:group__sl__bt__evt__gatt__server__characteristic__status"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates either that a local Client Characteristic Configuration descriptor was changed by the remote GATT client, or that a confirmation from the remote GATT client was received upon a successful reception of the indication. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__sl__bt__evt__gatt__server__execute__write__completed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__evt__gatt__server__execute__write__completed.html">sl_bt_evt_gatt_server_execute_write_completed</a></td></tr>
<tr class="memdesc:group__sl__bt__evt__gatt__server__execute__write__completed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute write completed event indicates that the execute write command from a remote GATT client has completed with the given result. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gad6e4e06339127bdd5b28cc248f5bb81f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__gatt__server.html#gad6e4e06339127bdd5b28cc248f5bb81f">gatt_server_characteristic_status_flag_t</a> { <a class="el" href="group__sl__bt__gatt__server.html#ggad6e4e06339127bdd5b28cc248f5bb81fa8be0cf3da1af5af6789c6ce5c9347833">gatt_server_client_config</a> = 0x1, 
<a class="el" href="group__sl__bt__gatt__server.html#ggad6e4e06339127bdd5b28cc248f5bb81fa9652cb7a6647cd142b5554899c50ffcc">gatt_server_confirmation</a> = 0x2
 }<tr class="memdesc:gad6e4e06339127bdd5b28cc248f5bb81f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Characteristic Status Flag.  <a href="group__sl__bt__gatt__server.html#gad6e4e06339127bdd5b28cc248f5bb81f">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:gad6e4e06339127bdd5b28cc248f5bb81f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6ff0b0dde112d8c15b9fd10edf112a98"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__gatt__server.html#ga6ff0b0dde112d8c15b9fd10edf112a98">sl_bt_gatt_server_set_capabilities</a> (uint32_t caps, uint32_t reserved)</td></tr>
<tr class="separator:ga6ff0b0dde112d8c15b9fd10edf112a98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga587989fa6dd4f8b0e957688e500574d4"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__gatt__server.html#ga587989fa6dd4f8b0e957688e500574d4">sl_bt_gatt_server_enable_capabilities</a> (uint32_t caps)</td></tr>
<tr class="separator:ga587989fa6dd4f8b0e957688e500574d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0d58be34869e2eef71042474e4949b6b"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__gatt__server.html#ga0d58be34869e2eef71042474e4949b6b">sl_bt_gatt_server_disable_capabilities</a> (uint32_t caps)</td></tr>
<tr class="separator:ga0d58be34869e2eef71042474e4949b6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83db1fc19f226f40fb7c55bf0ea07396"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__gatt__server.html#ga83db1fc19f226f40fb7c55bf0ea07396">sl_bt_gatt_server_get_enabled_capabilities</a> (uint32_t *caps)</td></tr>
<tr class="separator:ga83db1fc19f226f40fb7c55bf0ea07396"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6b827756a80be7916589be437fc6fd2e"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__gatt__server.html#ga6b827756a80be7916589be437fc6fd2e">sl_bt_gatt_server_set_max_mtu</a> (uint16_t max_mtu, uint16_t *max_mtu_out)</td></tr>
<tr class="separator:ga6b827756a80be7916589be437fc6fd2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7dd6b85ba133298ddea884b8030a463f"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__gatt__server.html#ga7dd6b85ba133298ddea884b8030a463f">sl_bt_gatt_server_get_mtu</a> (uint8_t connection, uint16_t *mtu)</td></tr>
<tr class="separator:ga7dd6b85ba133298ddea884b8030a463f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c1f60bb47f1d063a7bb7b7ca07be0d5"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__gatt__server.html#ga9c1f60bb47f1d063a7bb7b7ca07be0d5">sl_bt_gatt_server_find_attribute</a> (uint16_t start, size_t type_len, const uint8_t *type, uint16_t *attribute)</td></tr>
<tr class="separator:ga9c1f60bb47f1d063a7bb7b7ca07be0d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf64bd326873eca7e7d64c4d96cc8d966"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__gatt__server.html#gaf64bd326873eca7e7d64c4d96cc8d966">sl_bt_gatt_server_read_attribute_value</a> (uint16_t attribute, uint16_t offset, size_t max_value_size, size_t *value_len, uint8_t *value)</td></tr>
<tr class="separator:gaf64bd326873eca7e7d64c4d96cc8d966"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac3eeda304d9b9100f516b65d3eac518f"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__gatt__server.html#gac3eeda304d9b9100f516b65d3eac518f">sl_bt_gatt_server_read_attribute_type</a> (uint16_t attribute, size_t max_type_size, size_t *type_len, uint8_t *type)</td></tr>
<tr class="separator:gac3eeda304d9b9100f516b65d3eac518f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad50a8f6e37b3fb4da9a85bd78bbbdb14"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__gatt__server.html#gad50a8f6e37b3fb4da9a85bd78bbbdb14">sl_bt_gatt_server_write_attribute_value</a> (uint16_t attribute, uint16_t offset, size_t value_len, const uint8_t *value)</td></tr>
<tr class="separator:gad50a8f6e37b3fb4da9a85bd78bbbdb14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6f42d2ae08604321a80befe6358b9b22"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__gatt__server.html#ga6f42d2ae08604321a80befe6358b9b22">sl_bt_gatt_server_send_user_read_response</a> (uint8_t connection, uint16_t characteristic, uint8_t att_errorcode, size_t value_len, const uint8_t *value, uint16_t *sent_len)</td></tr>
<tr class="separator:ga6f42d2ae08604321a80befe6358b9b22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c459b8ea2c5b2e0efe145280fe370e0"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__gatt__server.html#ga1c459b8ea2c5b2e0efe145280fe370e0">sl_bt_gatt_server_send_user_write_response</a> (uint8_t connection, uint16_t characteristic, uint8_t att_errorcode)</td></tr>
<tr class="separator:ga1c459b8ea2c5b2e0efe145280fe370e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga993246c2ed9cfbc9afd0ed05a3598902"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sl__bt__gatt__server.html#ga993246c2ed9cfbc9afd0ed05a3598902">sl_bt_gatt_server_send_characteristic_notification</a> (uint8_t connection, uint16_t characteristic, size_t value_len, const uint8_t *value, uint16_t *sent_len)</td></tr>
<tr class="separator:ga993246c2ed9cfbc9afd0ed05a3598902"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>GATT Server. </p>
<p>These commands and events are used by the local GATT server to manage the local GATT database. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gad6e4e06339127bdd5b28cc248f5bb81f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad6e4e06339127bdd5b28cc248f5bb81f">&#9670;&nbsp;</a></span>gatt_server_characteristic_status_flag_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__sl__bt__gatt__server.html#gad6e4e06339127bdd5b28cc248f5bb81f">gatt_server_characteristic_status_flag_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Characteristic Status Flag. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggad6e4e06339127bdd5b28cc248f5bb81fa8be0cf3da1af5af6789c6ce5c9347833"></a>gatt_server_client_config&#160;</td><td class="fielddoc"><p>(0x1) Characteristic client configuration has been changed. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad6e4e06339127bdd5b28cc248f5bb81fa9652cb7a6647cd142b5554899c50ffcc"></a>gatt_server_confirmation&#160;</td><td class="fielddoc"><p>(0x2) Characteristic confirmation has been received. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga6ff0b0dde112d8c15b9fd10edf112a98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6ff0b0dde112d8c15b9fd10edf112a98">&#9670;&nbsp;</a></span>sl_bt_gatt_server_set_capabilities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_bt_gatt_server_set_capabilities </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>caps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>reserved</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset capabilities that should be enabled by the GATT database. A service is visible to remote GATT clients if at least one of its capabilities is enabled. The same applies to a characteristic and its attributes. Capability identifiers and their corresponding bit flag values can be found in the auto-generated database header file. See UG118: Blue Gecko Bluetooth Profile Toolkit Developer's Guide for how to declare capabilities in the GATT database.</p>
<p>Changing the capabilities of a database effectively causes a database change (attributes being added or removed) from a remote GATT client point of view. If the database has a Generic Attribute service and Service Changed characteristic, the stack will monitor the local database change status and manage service changed indications for a GATT client that has enabled the indication configuration of the Service Changed characteristic.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">caps</td><td>Bit flags of capabilities to reset. Value 0 sets the default database capabilities. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reserved</td><td>Use the value 0 on this reserved field. Do not use none-zero values because they are reserved for future use.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise. </dd></dl>

</div>
</div>
<a id="ga587989fa6dd4f8b0e957688e500574d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga587989fa6dd4f8b0e957688e500574d4">&#9670;&nbsp;</a></span>sl_bt_gatt_server_enable_capabilities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_bt_gatt_server_enable_capabilities </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>caps</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable additional capabilities in the local GATT database. Already enabled capabilities keep unchanged after this command. See <a class="el" href="group__sl__bt__gatt__server.html#ga6ff0b0dde112d8c15b9fd10edf112a98">sl_bt_gatt_server_set_capabilities</a> for more information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">caps</td><td>Capabilities to enable</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise. </dd></dl>

</div>
</div>
<a id="ga0d58be34869e2eef71042474e4949b6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0d58be34869e2eef71042474e4949b6b">&#9670;&nbsp;</a></span>sl_bt_gatt_server_disable_capabilities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_bt_gatt_server_disable_capabilities </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>caps</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disable the given capabilities in the local GATT database. See <a class="el" href="group__sl__bt__gatt__server.html#ga6ff0b0dde112d8c15b9fd10edf112a98">sl_bt_gatt_server_set_capabilities</a> for more information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">caps</td><td>Capabilities to disable</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise. </dd></dl>

</div>
</div>
<a id="ga83db1fc19f226f40fb7c55bf0ea07396"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga83db1fc19f226f40fb7c55bf0ea07396">&#9670;&nbsp;</a></span>sl_bt_gatt_server_get_enabled_capabilities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_bt_gatt_server_get_enabled_capabilities </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>caps</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get capabilities currently enabled in the local GATT database.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">caps</td><td>Enabled capabilities</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise. </dd></dl>

</div>
</div>
<a id="ga6b827756a80be7916589be437fc6fd2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6b827756a80be7916589be437fc6fd2e">&#9670;&nbsp;</a></span>sl_bt_gatt_server_set_max_mtu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_bt_gatt_server_set_max_mtu </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>max_mtu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>max_mtu_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the maximum size of ATT Message Transfer Units (MTU). The functionality is the same as <a class="el" href="group__sl__bt__gatt.html#ga8acd415ed593fb75fcf408246293852f">sl_bt_gatt_set_max_mtu</a> and this setting applies to both GATT client and server. If the given value is too large according to the maximum BGAPI payload size, the system will select the maximum possible value as the maximum ATT_MTU. If the maximum ATT_MTU is larger than 23, the GATT client in the stack will automatically send an MTU exchange request after a Bluetooth connection was established.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">max_mtu</td><td><p class="starttd">Maximum size of Message Transfer Units (MTU) allowed</p><ul>
<li>Range: 23 to 250</li>
</ul>
<p class="endtd">Default: 247 </p>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">max_mtu_out</td><td>The maximum ATT_MTU selected by the system if this command succeeded</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise. </dd></dl>

</div>
</div>
<a id="ga7dd6b85ba133298ddea884b8030a463f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7dd6b85ba133298ddea884b8030a463f">&#9670;&nbsp;</a></span>sl_bt_gatt_server_get_mtu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_bt_gatt_server_get_mtu </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>mtu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the size of ATT Message Transfer Units (MTU) for a connection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">connection</td><td>Connection handle </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">mtu</td><td>The maximum ATT_MTU used by the connection</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise. </dd></dl>

</div>
</div>
<a id="ga9c1f60bb47f1d063a7bb7b7ca07be0d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9c1f60bb47f1d063a7bb7b7ca07be0d5">&#9670;&nbsp;</a></span>sl_bt_gatt_server_find_attribute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_bt_gatt_server_find_attribute </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>type_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>attribute</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find attributes of a certain type from a local GATT database. The type is usually given as a 16-bit or 128-bit UUID in little endian format.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">start</td><td>Search start handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type_len</td><td>Array length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>The attribute type UUID </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">attribute</td><td>Attribute handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise. </dd></dl>

</div>
</div>
<a id="gaf64bd326873eca7e7d64c4d96cc8d966"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf64bd326873eca7e7d64c4d96cc8d966">&#9670;&nbsp;</a></span>sl_bt_gatt_server_read_attribute_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_bt_gatt_server_read_attribute_value </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>attribute</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_value_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>value_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read the value of an attribute from a local GATT database. Only (maximum BGAPI payload size - 3) amount of data can be read at once. The application can continue reading with increased offset value if it receives (maximum BGAPI payload size - 3) amount of data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">attribute</td><td>Attribute handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>Value offset </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_value_size</td><td>Size of output buffer passed in <code>value</code> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value_len</td><td>On return, set to the length of output data written to <code>value</code> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>The attribute value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise. </dd></dl>

</div>
</div>
<a id="gac3eeda304d9b9100f516b65d3eac518f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac3eeda304d9b9100f516b65d3eac518f">&#9670;&nbsp;</a></span>sl_bt_gatt_server_read_attribute_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_bt_gatt_server_read_attribute_type </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>attribute</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_type_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>type_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read the type of an attribute from a local GATT database. The type is a UUID, usually 16 or 128 bits long in little endian format.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">attribute</td><td>Attribute handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_type_size</td><td>Size of output buffer passed in <code>type</code> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">type_len</td><td>On return, set to the length of output data written to <code>type</code> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">type</td><td>The attribute type UUID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise. </dd></dl>

</div>
</div>
<a id="gad50a8f6e37b3fb4da9a85bd78bbbdb14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad50a8f6e37b3fb4da9a85bd78bbbdb14">&#9670;&nbsp;</a></span>sl_bt_gatt_server_write_attribute_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_bt_gatt_server_write_attribute_value </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>attribute</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>value_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write the value of an attribute in the local GATT database. Writing the value of a characteristic of the local GATT database will not trigger notifications or indications to the remote GATT client if the characteristic has a property to indicate or notify and the client has enabled notification or indication. Notifications and indications are sent to the remote GATT client using <a class="el" href="group__sl__bt__gatt__server.html#ga993246c2ed9cfbc9afd0ed05a3598902">sl_bt_gatt_server_send_characteristic_notification</a> command.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">attribute</td><td>Attribute handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>Value offset </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value_len</td><td>Array length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>Value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise. </dd></dl>

</div>
</div>
<a id="ga6f42d2ae08604321a80befe6358b9b22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6f42d2ae08604321a80befe6358b9b22">&#9670;&nbsp;</a></span>sl_bt_gatt_server_send_user_read_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_bt_gatt_server_send_user_read_response </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>characteristic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>att_errorcode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>value_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>sent_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a response to a <a class="el" href="group__sl__bt__evt__gatt__server__user__read__request.html">sl_bt_evt_gatt_server_user_read_request</a> event. The response needs to be sent within 30 seconds, otherwise no more GATT transactions are allowed by the remote side. If attr_errorcode is set to 0, the characteristic value is sent to the remote GATT client in the standard way. Other attr_errorcode values will cause the local GATT server to send an attribute protocol error response instead of the actual data. At most ATT_MTU - 1 amount of data can be sent at one time. The client will continue reading by sending new read request with an increased offset value if it receives ATT_MTU - 1 amount of data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">connection</td><td>Connection handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">characteristic</td><td>GATT characteristic handle received in the <a class="el" href="group__sl__bt__evt__gatt__server__user__read__request.html">sl_bt_evt_gatt_server_user_read_request</a> event. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">att_errorcode</td><td>Attribute protocol error code<ul>
<li><b>0:</b> No error</li>
<li><b>Non-zero:</b> See Bluetooth specification, Host volume, Attribute Protocol, Error Codes table. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value_len</td><td>Array length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>Characteristic value to send to the GATT client. Ignored if att_errorcode is not 0. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">sent_len</td><td>The length of data sent to the remote GATT client</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise. </dd></dl>

</div>
</div>
<a id="ga1c459b8ea2c5b2e0efe145280fe370e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1c459b8ea2c5b2e0efe145280fe370e0">&#9670;&nbsp;</a></span>sl_bt_gatt_server_send_user_write_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_bt_gatt_server_send_user_write_response </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>characteristic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>att_errorcode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a response to a <a class="el" href="group__sl__bt__evt__gatt__server__user__write__request.html">sl_bt_evt_gatt_server_user_write_request</a> event when parameter <code>att_opcode</code> in the event is <a class="el" href="group__sl__bt__gatt.html#ggaa9ca08392f3fe2d41dde8462fbb3f8b4aefc298ae793c2b72d18c396ea2c18a75">gatt_write_request</a> (see gatt_att_opcode). The response needs to be sent within 30 seconds, otherwise no more GATT transactions are allowed by the remote side. If attr_errorcode is set to 0, the ATT protocol's write response is sent to indicate to the remote GATT client that the write operation was processed successfully. Other values will cause the local GATT server to send an ATT protocol error response.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">connection</td><td>Connection handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">characteristic</td><td>GATT characteristic handle received in the <a class="el" href="group__sl__bt__evt__gatt__server__user__write__request.html">sl_bt_evt_gatt_server_user_write_request</a> event </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">att_errorcode</td><td>Attribute protocol error code<ul>
<li><b>0:</b> No error</li>
<li><b>Non-zero:</b> See Bluetooth specification, Host volume, Attribute Protocol, Error Codes table.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise. </dd></dl>

</div>
</div>
<a id="ga993246c2ed9cfbc9afd0ed05a3598902"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga993246c2ed9cfbc9afd0ed05a3598902">&#9670;&nbsp;</a></span>sl_bt_gatt_server_send_characteristic_notification()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_bt_gatt_server_send_characteristic_notification </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>characteristic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>value_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>sent_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send notifications or indications to one or more remote GATT clients. At most ATT_MTU - 3 amount of data can be sent one time.</p>
<p>A notification or indication is sent only if the client has enabled it by setting the corresponding flag to the Client Characteristic Configuration descriptor. If the Client Characteristic Configuration descriptor supports both notifications and indications, the stack will always send a notification even when the client has enabled both.</p>
<p>A new indication to a GATT client can't be sent until an outstanding indication procedure with the same client has completed. The procedure is completed when a confirmation from the client is received. The confirmation is indicated by <a class="el" href="group__sl__bt__evt__gatt__server__characteristic__status.html">sl_bt_evt_gatt_server_characteristic_status</a>.</p>
<p>Error bg_err_wrong_state is returned if the characteristic does not have the notification property, or if the client has not enabled the notification. The same applies to the indication property, and in addition, bg_err_wrong_state is returned if an indication procedure with the same client is outstanding. Always check the response for this command for errors before trying to send more data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">connection</td><td>A handle of the connection over which the notification or indication is sent. Values:<ul>
<li><b>0xff:</b> Sends notification or indication to all connected devices.</li>
<li><b>Other:</b> Connection handle </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">characteristic</td><td>Characteristic handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value_len</td><td>Array length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>Value to be notified or indicated </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">sent_len</td><td>The length of data sent if only one connected device is the receiver; otherwise an unused value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
