<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zigbee Application Framework API Reference: client-api.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zigbee Application Framework API Reference
   &#160;<span id="projectnumber">EmberZNet 6.8.1.0</span>
   </div>
   <div id="projectbrief">For the EFR32 and EM3xx Platforms</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('client-api_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">client-api.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>API for generating command buffer.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;client-command-macro.h&quot;</code><br />
</div>
<p><a href="client-api_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Client API functions</h2></td></tr>
<tr class="memitem:a10edc809d687f60e8ed6570cab0b2b3f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="client-api_8h.html#a10edc809d687f60e8ed6570cab0b2b3f">emberAfAppendToExternalBuffer</a>(...)&#160;&#160;&#160;emberAfPutBlockInResp(__VA_ARGS__)</td></tr>
<tr class="memdesc:a10edc809d687f60e8ed6570cab0b2b3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that fills in the buffer with command.  <a href="#a10edc809d687f60e8ed6570cab0b2b3f">More...</a><br /></td></tr>
<tr class="separator:a10edc809d687f60e8ed6570cab0b2b3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78aa11e0594418c1c37408442f4b3630"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="client-api_8h.html#a78aa11e0594418c1c37408442f4b3630">emberAfFillExternalBuffer</a> (uint8_t frameControl, <a class="el" href="group__aftypes.html#gaffac400836ff00f9695c7d65f37ee645">EmberAfClusterId</a> clusterId, uint8_t commandId, const char *format,...)</td></tr>
<tr class="memdesc:a78aa11e0594418c1c37408442f4b3630"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that fills in the buffer with command.  <a href="#a78aa11e0594418c1c37408442f4b3630">More...</a><br /></td></tr>
<tr class="separator:a78aa11e0594418c1c37408442f4b3630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa715e0a43bfe019ea7a10bc5b832cc08"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="client-api_8h.html#aa715e0a43bfe019ea7a10bc5b832cc08">emberAfFillExternalManufacturerSpecificBuffer</a> (uint8_t frameControl, <a class="el" href="group__aftypes.html#gaffac400836ff00f9695c7d65f37ee645">EmberAfClusterId</a> clusterId, uint16_t manufacturerCode, uint8_t commandId, const char *format,...)</td></tr>
<tr class="memdesc:aa715e0a43bfe019ea7a10bc5b832cc08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that fills in the buffer with manufacturer-specific command.  <a href="#aa715e0a43bfe019ea7a10bc5b832cc08">More...</a><br /></td></tr>
<tr class="separator:aa715e0a43bfe019ea7a10bc5b832cc08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88e4d1ccca9372a3856d4cffd0499bb7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="client-api_8h.html#a88e4d1ccca9372a3856d4cffd0499bb7">emberAfSetExternalBuffer</a> (uint8_t *buffer, uint16_t bufferLen, uint16_t *responseLengthPtr, <a class="el" href="structEmberApsFrame.html">EmberApsFrame</a> *apsFramePtr)</td></tr>
<tr class="memdesc:a88e4d1ccca9372a3856d4cffd0499bb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that registers the buffer to use with the fill function. Registers the buffer for use with the emberAfFillExternalBuffer function.  <a href="#a88e4d1ccca9372a3856d4cffd0499bb7">More...</a><br /></td></tr>
<tr class="separator:a88e4d1ccca9372a3856d4cffd0499bb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d356f7c5a7a74f72d9e31322c2e46cd"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="client-api_8h.html#a6d356f7c5a7a74f72d9e31322c2e46cd">emberAfFillBuffer</a> (uint8_t *buffer, uint16_t bufferLen, uint8_t frameControl, uint8_t commandId, const char *format,...)</td></tr>
<tr class="memdesc:a6d356f7c5a7a74f72d9e31322c2e46cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stateless function that fills the passed buffer with command data.  <a href="#a6d356f7c5a7a74f72d9e31322c2e46cd">More...</a><br /></td></tr>
<tr class="separator:a6d356f7c5a7a74f72d9e31322c2e46cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>API for generating command buffer. </p>
<h1>License</h1>
<p><b>Copyright 2018 Silicon Laboratories Inc. www.silabs.com</b></p>
<p>The licensor of this software is Silicon Laboratories Inc. Your use of this software is governed by the terms of Silicon Labs Master Software License Agreement (MSLA) available at www.silabs.com/about-us/legal/master-software-license-agreement. This software is distributed to you in Source Code format and is governed by the sections of the MSLA applicable to Source Code. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a10edc809d687f60e8ed6570cab0b2b3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10edc809d687f60e8ed6570cab0b2b3f">&#9670;&nbsp;</a></span>emberAfAppendToExternalBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define emberAfAppendToExternalBuffer</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td>&#160;&#160;&#160;emberAfPutBlockInResp(__VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that fills in the buffer with command. </p>
<p>Fills the outgoing ZCL buffer and returns the number of bytes used in a buffer. Uses the buffers that were previously set with emberAfSetExternalBuffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frameControl</td><td>Byte used for frame control. </td></tr>
    <tr><td class="paramname">clusterId</td><td>Cluster ID of message. </td></tr>
    <tr><td class="paramname">commandId</td><td>Command ID of message. </td></tr>
    <tr><td class="paramname">format</td><td>String format for further arguments to the function. Format values are:<ul>
<li>'0' - '9' and 'A' - 'G': Pointer to a buffer containing 0&ndash;16 raw bytes. The data is copied as is to the destination buffer.</li>
<li>'u': uint8_t.</li>
<li>'v': uint16_t. The bytes are copied in little-endian format to the destination buffer.</li>
<li>'x': int24u. The bytes are copied in little-endian format to the destination buffer.</li>
<li>'w': uint32_t. The bytes are copied in little-endian format to the destination buffer.</li>
<li>'l': Pointer to a buffer containing a ZigBee long string, with the first two bytes of the buffer specifying the length of the string data in little-endian format. The length bytes and the string itself are both included as is in the destination buffer.</li>
<li>'s': Pointer to a buffer containing a ZigBee string, with the first byte of the buffer specifying the length of the string data. The length byte and the string itself are both included as is in the destination buffer.</li>
<li>'L': Pointer to a buffer containing a long string followed by an uint16_t specifying the length of the string data. The length bytes in little-endian format will precede the string itself in the destination buffer.</li>
<li>'S': Pointer to a buffer containing a string followed by an uint8_t specifying the length of the string data. The length byte will precede the string itself in the destination buffer.</li>
<li>'b': Pointer to a buffer containing a sequence of raw bytes followed by an uint16_t specifying the length of the data. The data is copied as is to the destination buffer. The length is not included. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a6d356f7c5a7a74f72d9e31322c2e46cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d356f7c5a7a74f72d9e31322c2e46cd">&#9670;&nbsp;</a></span>emberAfFillBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t emberAfFillBuffer </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>bufferLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>frameControl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>commandId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stateless function that fills the passed buffer with command data. </p>
<p>Stateless method, that fill the passed buffer. Used internally by emberAfFillExternalBuffer, but can be used for generic buffer filling. </p>

</div>
</div>
<a id="a78aa11e0594418c1c37408442f4b3630"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78aa11e0594418c1c37408442f4b3630">&#9670;&nbsp;</a></span>emberAfFillExternalBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t emberAfFillExternalBuffer </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>frameControl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__aftypes.html#gaffac400836ff00f9695c7d65f37ee645">EmberAfClusterId</a>&#160;</td>
          <td class="paramname"><em>clusterId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>commandId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that fills in the buffer with command. </p>
<p>Fills the outgoing ZCL buffer and returns the number of bytes used in a buffer. Uses the buffers that were previously set with emberAfSetExternalBuffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frameControl</td><td>Byte used for frame control. </td></tr>
    <tr><td class="paramname">clusterId</td><td>Cluster ID of message. </td></tr>
    <tr><td class="paramname">commandId</td><td>Command ID of message. </td></tr>
    <tr><td class="paramname">format</td><td>String format for further arguments to the function. Format values are:<ul>
<li>'0' - '9' and 'A' - 'G': Pointer to a buffer containing 0&ndash;16 raw bytes. The data is copied as is to the destination buffer.</li>
<li>'u': uint8_t.</li>
<li>'v': uint16_t. The bytes are copied in little-endian format to the destination buffer.</li>
<li>'x': int24u. The bytes are copied in little-endian format to the destination buffer.</li>
<li>'w': uint32_t. The bytes are copied in little-endian format to the destination buffer.</li>
<li>'l': Pointer to a buffer containing a ZigBee long string, with the first two bytes of the buffer specifying the length of the string data in little-endian format. The length bytes and the string itself are both included as is in the destination buffer.</li>
<li>'s': Pointer to a buffer containing a ZigBee string, with the first byte of the buffer specifying the length of the string data. The length byte and the string itself are both included as is in the destination buffer.</li>
<li>'L': Pointer to a buffer containing a long string followed by an uint16_t specifying the length of the string data. The length bytes in little-endian format will precede the string itself in the destination buffer.</li>
<li>'S': Pointer to a buffer containing a string followed by an uint8_t specifying the length of the string data. The length byte will precede the string itself in the destination buffer.</li>
<li>'b': Pointer to a buffer containing a sequence of raw bytes followed by an uint16_t specifying the length of the data. The data is copied as is to the destination buffer. The length is not included. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa715e0a43bfe019ea7a10bc5b832cc08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa715e0a43bfe019ea7a10bc5b832cc08">&#9670;&nbsp;</a></span>emberAfFillExternalManufacturerSpecificBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t emberAfFillExternalManufacturerSpecificBuffer </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>frameControl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__aftypes.html#gaffac400836ff00f9695c7d65f37ee645">EmberAfClusterId</a>&#160;</td>
          <td class="paramname"><em>clusterId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>manufacturerCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>commandId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that fills in the buffer with manufacturer-specific command. </p>
<p>Fills the outgoing ZCL buffer and returns the number of bytes used in a buffer. Uses the buffers that were previously set with emberAfSetExternalBuffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frameControl</td><td>Byte used for frame control. </td></tr>
    <tr><td class="paramname">clusterId</td><td>Cluster ID of message. </td></tr>
    <tr><td class="paramname">manufacturerCode</td><td>Manufacturer code of message. </td></tr>
    <tr><td class="paramname">commandId</td><td>Command ID of message. </td></tr>
    <tr><td class="paramname">format</td><td>String format for further arguments to the function. Format values are:<ul>
<li>'0' &ndash; '9' and 'A' &ndash; 'G': Pointer to a buffer containing 0&ndash;16 raw bytes. The data is copied as is to the destination buffer.</li>
<li>'u': uint8_t.</li>
<li>'v': uint16_t. The bytes are copied in little-endian format to the destination buffer.</li>
<li>'x': int24u. The bytes are copied in little-endian format to the destination buffer.</li>
<li>'w': uint32_t. The bytes are copied in little-endian format to the destination buffer.</li>
<li>'l': Pointer to a buffer containing a ZigBee long string, with the first two bytes of the buffer specifying the length of the string data in little-endian format. The length bytes and the string itself are both included as is in the destination buffer.</li>
<li>'s': Pointer to a buffer containing a ZigBee string, with the first byte of the buffer specifying the length of the string data. The length byte and the string itself are both included as is in the destination buffer.</li>
<li>'L': Pointer to a buffer containing a long string followed by an uint16_t specifying the length of the string data. The length bytes in little-endian format will precede the string itself in the destination buffer.</li>
<li>'S': Pointer to a buffer containing a string followed by an uint8_t specifying the length of the string data. The length byte will precede the string itself in the destination buffer.</li>
<li>'b': Pointer to a buffer containing a sequence of raw bytes followed by an uint16_t specifying the length of the data. The data is copied as is to the destination buffer. The length is not included. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a88e4d1ccca9372a3856d4cffd0499bb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88e4d1ccca9372a3856d4cffd0499bb7">&#9670;&nbsp;</a></span>emberAfSetExternalBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberAfSetExternalBuffer </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>bufferLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>responseLengthPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structEmberApsFrame.html">EmberApsFrame</a> *&#160;</td>
          <td class="paramname"><em>apsFramePtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that registers the buffer to use with the fill function. Registers the buffer for use with the emberAfFillExternalBuffer function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Main buffer for constructing message. </td></tr>
    <tr><td class="paramname">bufferLen</td><td>Available length of buffer. </td></tr>
    <tr><td class="paramname">responseLengthPtr</td><td>Location where length of message will be written into. </td></tr>
    <tr><td class="paramname">apsFramePtr</td><td>Location where APS frame data will be written. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d422163b96683743ed3963d4aac17747.html">app</a></li><li class="navelem"><a class="el" href="dir_99786ae279cf478b9d446f0b40a0ddc1.html">framework</a></li><li class="navelem"><a class="el" href="dir_0bc6fae807bb5cc314439ae5910db90f.html">util</a></li><li class="navelem"><a class="el" href="client-api_8h.html">client-api.h</a></li>
    <li class="footer">Generated on Thu Sep 10 2020 11:32:57 for Zigbee Application Framework API Reference by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
