<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zigbee Application Framework API Reference: stack API Callbacks</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zigbee Application Framework API Reference
   &#160;<span id="projectnumber">EmberZNet 6.8.1.0</span>
   </div>
   <div id="projectbrief">For the EFR32 and EM3xx Platforms</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__stack-callbacks.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">stack API Callbacks<div class="ingroups"><a class="el" href="group__ncp__framework.html">Zigbee NCP API Reference</a> &raquo; <a class="el" href="group__ncp__callback.html">Zigbee NCP Application Framework Callbacks</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaee9a79fc1cab7761c7187c841a1c69b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stack-callbacks.html#gaee9a79fc1cab7761c7187c841a1c69b4">emberCounterHandler</a> (<a class="el" href="group__ember__types.html#ga9f972a77387b604c47eda6a63188aa3b">EmberCounterType</a> type, <a class="el" href="structEmberCounterInfo.html">EmberCounterInfo</a> info)</td></tr>
<tr class="memdesc:gaee9a79fc1cab7761c7187c841a1c69b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoked to inform the application of the occurrence of an event defined by <a class="el" href="group__ember__types.html#ga9f972a77387b604c47eda6a63188aa3b" title="Defines the events reported to the application by the emberCounterHandler(). ">EmberCounterType</a>, for example, transmissions and receptions at different layers of the stack.  <a href="#gaee9a79fc1cab7761c7187c841a1c69b4">More...</a><br /></td></tr>
<tr class="separator:gaee9a79fc1cab7761c7187c841a1c69b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2d80fd575e35ae22a6ec6e26f9b4ba07"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stack-callbacks.html#ga2d80fd575e35ae22a6ec6e26f9b4ba07">emberRtosIdleHandler</a> (uint32_t *idleTimeMs)</td></tr>
<tr class="memdesc:ga2d80fd575e35ae22a6ec6e26f9b4ba07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows the application to manage idling the MCU.  <a href="#ga2d80fd575e35ae22a6ec6e26f9b4ba07">More...</a><br /></td></tr>
<tr class="separator:ga2d80fd575e35ae22a6ec6e26f9b4ba07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga739cc327ee8ebaeb0585451085b72eaf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stack-callbacks.html#ga739cc327ee8ebaeb0585451085b72eaf">emberRtosStackWakeupIsrHandler</a> (void)</td></tr>
<tr class="memdesc:ga739cc327ee8ebaeb0585451085b72eaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests the application to wake up the stack task.  <a href="#ga739cc327ee8ebaeb0585451085b72eaf">More...</a><br /></td></tr>
<tr class="separator:ga739cc327ee8ebaeb0585451085b72eaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac4a45063264fe1b8de41b02f6c3570f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stack-callbacks.html#gaac4a45063264fe1b8de41b02f6c3570f">emberStackStatusHandler</a> (<a class="el" href="group__status__codes.html#gabdc825a7bb1ce986862f1566accee9aa">EmberStatus</a> status)</td></tr>
<tr class="memdesc:gaac4a45063264fe1b8de41b02f6c3570f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoked when the status of the stack changes. If the status parameter equals <a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaa8549d6117cdbe01deeb8721ebd23fa75" title="The stack software has completed initialization and is ready to send and receive packets over the air...">EMBER_NETWORK_UP</a>, the ::emberGetNetworkParameters() function can be called to obtain the new network parameters. If any of the parameters are being stored in nonvolatile memory by the application, the stored values should be updated.  <a href="#gaac4a45063264fe1b8de41b02f6c3570f">More...</a><br /></td></tr>
<tr class="separator:gaac4a45063264fe1b8de41b02f6c3570f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga285706805ac0e9be1c8e0ebc238a7e7b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stack-callbacks.html#ga285706805ac0e9be1c8e0ebc238a7e7b">emberEnergyScanResultHandler</a> (uint8_t channel, int8_t maxRssiValue)</td></tr>
<tr class="memdesc:ga285706805ac0e9be1c8e0ebc238a7e7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reports the maximum RSSI value measured on the channel.  <a href="#ga285706805ac0e9be1c8e0ebc238a7e7b">More...</a><br /></td></tr>
<tr class="separator:ga285706805ac0e9be1c8e0ebc238a7e7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga81602c711b132feefd4332b03bfe6924"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stack-callbacks.html#ga81602c711b132feefd4332b03bfe6924">emberRadioNeedsCalibratingHandler</a> (void)</td></tr>
<tr class="memdesc:ga81602c711b132feefd4332b03bfe6924"><td class="mdescLeft">&#160;</td><td class="mdescRight">The radio calibration callback function.  <a href="#ga81602c711b132feefd4332b03bfe6924">More...</a><br /></td></tr>
<tr class="separator:ga81602c711b132feefd4332b03bfe6924"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These callbacks were contributed by the stack API. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaee9a79fc1cab7761c7187c841a1c69b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaee9a79fc1cab7761c7187c841a1c69b4">&#9670;&nbsp;</a></span>emberCounterHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberCounterHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ember__types.html#ga9f972a77387b604c47eda6a63188aa3b">EmberCounterType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structEmberCounterInfo.html">EmberCounterInfo</a>&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invoked to inform the application of the occurrence of an event defined by <a class="el" href="group__ember__types.html#ga9f972a77387b604c47eda6a63188aa3b" title="Defines the events reported to the application by the emberCounterHandler(). ">EmberCounterType</a>, for example, transmissions and receptions at different layers of the stack. </p>
<p>The application must define ::EMBER_APPLICATION_HAS_COUNTER_HANDLER in its CONFIGURATION_HEADER to use this. This function may be called in ISR context, so processing should be kept to a minimum.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The type of the event. </td></tr>
    <tr><td class="paramname">info</td><td>could map to:<ol type="1">
<li>data: For transmission events, the number of retries used. For most other events, this parameter is unused and is set to zero.</li>
<li>phyIndex: use for mac specific counters specifying if they belong to SubGhz or 2.4</li>
<li>destinationNodeId: identifying which connection/destinationId a specific counter refers to</li>
<li>Any combination of parameters above </li>
</ol>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga285706805ac0e9be1c8e0ebc238a7e7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga285706805ac0e9be1c8e0ebc238a7e7b">&#9670;&nbsp;</a></span>emberEnergyScanResultHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberEnergyScanResultHandler </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>maxRssiValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reports the maximum RSSI value measured on the channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>The 802.15.4 channel number on which the RSSI value was measured.</td></tr>
    <tr><td class="paramname">maxRssiValue</td><td>The maximum RSSI value measured (in units of dBm). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga81602c711b132feefd4332b03bfe6924"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga81602c711b132feefd4332b03bfe6924">&#9670;&nbsp;</a></span>emberRadioNeedsCalibratingHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberRadioNeedsCalibratingHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The radio calibration callback function. </p>
<p>The Voltage Controlled Oscillator (VCO) can drift with temperature changes. During every call to ::emberTick(), the stack will check to see if the VCO has drifted. If the VCO has drifted, the stack will call <a class="el" href="group__stack-callbacks.html#ga81602c711b132feefd4332b03bfe6924" title="The radio calibration callback function. ">emberRadioNeedsCalibratingHandler()</a> to inform the application that it should perform calibration of the current channel as soon as possible. Calibration can take up to 150 ms. The default callback function implementation provided here performs calibration immediately. The application can define its own callback by defining ::EMBER_APPLICATION_HAS_CUSTOM_RADIO_CALIBRATION_CALLBACK in its CONFIGURATION_HEADER. It can then failsafe any critical processes or peripherals before calling ::sl_mac_calibrate_current_channel(). The application must call ::sl_mac_calibrate_current_channel() in response to this callback to maintain expected radio performance. </p>

</div>
</div>
<a id="ga2d80fd575e35ae22a6ec6e26f9b4ba07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2d80fd575e35ae22a6ec6e26f9b4ba07">&#9670;&nbsp;</a></span>emberRtosIdleHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool emberRtosIdleHandler </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>idleTimeMs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allows the application to manage idling the MCU. </p>
<dl class="section return"><dt>Returns</dt><dd>True if the application is managing idling the MCU, false otherwise. If this function returns false, the stack will manage idling the MCU. </dd></dl>

</div>
</div>
<a id="ga739cc327ee8ebaeb0585451085b72eaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga739cc327ee8ebaeb0585451085b72eaf">&#9670;&nbsp;</a></span>emberRtosStackWakeupIsrHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberRtosStackWakeupIsrHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Requests the application to wake up the stack task. </p>

</div>
</div>
<a id="gaac4a45063264fe1b8de41b02f6c3570f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaac4a45063264fe1b8de41b02f6c3570f">&#9670;&nbsp;</a></span>emberStackStatusHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberStackStatusHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__status__codes.html#gabdc825a7bb1ce986862f1566accee9aa">EmberStatus</a>&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invoked when the status of the stack changes. If the status parameter equals <a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaa8549d6117cdbe01deeb8721ebd23fa75" title="The stack software has completed initialization and is ready to send and receive packets over the air...">EMBER_NETWORK_UP</a>, the ::emberGetNetworkParameters() function can be called to obtain the new network parameters. If any of the parameters are being stored in nonvolatile memory by the application, the stored values should be updated. </p>
<p>The application is free to begin messaging once it receives the <a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaa8549d6117cdbe01deeb8721ebd23fa75" title="The stack software has completed initialization and is ready to send and receive packets over the air...">EMBER_NETWORK_UP</a> status. However, routes discovered immediately after the stack comes up may be suboptimal. This is because the routes are based on the neighbor table's information about two-way links with neighboring nodes, which is obtained from periodic Zigbee Link Status messages. It can take two or three link status exchange periods (of 16 seconds each) before the neighbor table has a good estimate of link quality to neighboring nodes. Therefore, the application may improve the quality of initially discovered routes by waiting after startup to give the neighbor table time to be populated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>Stack status. One of the following:<ul>
<li><a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaa8549d6117cdbe01deeb8721ebd23fa75" title="The stack software has completed initialization and is ready to send and receive packets over the air...">EMBER_NETWORK_UP</a></li>
<li><a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaaf791f89ba5267e4ee08a9f08164647ac" title="The network is not operating. ">EMBER_NETWORK_DOWN</a></li>
<li><a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaa12847233098ae5de69143f1b28cbaf6d" title="An attempt to join a network failed. ">EMBER_JOIN_FAILED</a></li>
<li><a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaa6b0cbcf8fbe133191110171ca11c7689" title="After moving, a mobile node&#39;s attempt to re-establish contact with the network failed. ">EMBER_MOVE_FAILED</a></li>
<li><a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaaecaaeeab18ea4d43dcdb74faffbf7a08" title="An attempt to join as a router failed due to a Zigbee versus Zigbee Pro incompatibility. Zigbee devices joining Zigbee Pro networks (or vice versa) must join as End Devices, not Routers. ">EMBER_CANNOT_JOIN_AS_ROUTER</a></li>
<li><a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaa9af9a62e95f03e7b4b285baee3787f77" title="The local node ID has changed. The application can get the new node ID by calling ::emberGetNodeId()...">EMBER_NODE_ID_CHANGED</a></li>
<li><a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaa20ef020023459d4488da12e393581881" title="The local PAN ID has changed. The application can get the new PAN ID by calling ::emberGetPanId(). ">EMBER_PAN_ID_CHANGED</a></li>
<li><a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaa0c97c9b7388f162328d26d6a5d87e212" title="The channel has changed. ">EMBER_CHANNEL_CHANGED</a></li>
<li><a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaab2a1803aaa3a125289b5afac84eddf6e" title="An attempt to join or rejoin the network failed because no router beacons could be heard by the joini...">EMBER_NO_BEACONS</a></li>
<li><a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaa0c7b475883444970eee459e6b6be9284" title="An attempt was made to join a Secured Network using a pre-configured key, but the Trust Center sent b...">EMBER_RECEIVED_KEY_IN_THE_CLEAR</a></li>
<li><a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaa2d6e649cb7333ebf58d83a89ad63fb0b" title="An attempt was made to join a Secured Network, but the device did not receive a Network Key...">EMBER_NO_NETWORK_KEY_RECEIVED</a></li>
<li><a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaadd6783170176d03b4edab7b22d9dfa29" title="After a device joined a Secured Network, a Link Key was requested (EMBER_GET_LINK_KEY_WHEN_JOINING) b...">EMBER_NO_LINK_KEY_RECEIVED</a></li>
<li><a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaaa5d86cbbaa347b3e41479e8b5899c112" title="An attempt was made to join a Secured Network without a pre-configured key, but the Trust Center sent...">EMBER_PRECONFIGURED_KEY_REQUIRED</a> </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Sep 10 2020 11:32:59 for Zigbee Application Framework API Reference by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
