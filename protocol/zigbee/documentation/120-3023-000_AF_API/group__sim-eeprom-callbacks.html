<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zigbee Application Framework API Reference: sim-eeprom API Callbacks</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zigbee Application Framework API Reference
   &#160;<span id="projectnumber">EmberZNet 6.8.1.0</span>
   </div>
   <div id="projectbrief">For the EFR32 and EM3xx Platforms</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__sim-eeprom-callbacks.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sim-eeprom API Callbacks<div class="ingroups"><a class="el" href="group__ncp__framework.html">Zigbee NCP API Reference</a> &raquo; <a class="el" href="group__ncp__callback.html">Zigbee NCP Application Framework Callbacks</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga3d2ac67a3dc8532534f8a36bf2bceb3c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sim-eeprom-callbacks.html#ga3d2ac67a3dc8532534f8a36bf2bceb3c">halSimEepromCallback</a> (<a class="el" href="group__status__codes.html#gabdc825a7bb1ce986862f1566accee9aa">EmberStatus</a> status)</td></tr>
<tr class="memdesc:ga3d2ac67a3dc8532534f8a36bf2bceb3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Simulated EEPROM callback function, implemented by the application.  <a href="#ga3d2ac67a3dc8532534f8a36bf2bceb3c">More...</a><br /></td></tr>
<tr class="separator:ga3d2ac67a3dc8532534f8a36bf2bceb3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These callbacks were contributed by the sim-eeprom API. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga3d2ac67a3dc8532534f8a36bf2bceb3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d2ac67a3dc8532534f8a36bf2bceb3c">&#9670;&nbsp;</a></span>halSimEepromCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halSimEepromCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__status__codes.html#gabdc825a7bb1ce986862f1566accee9aa">EmberStatus</a>&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The Simulated EEPROM callback function, implemented by the application. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>An <a class="el" href="group__status__codes.html#gabdc825a7bb1ce986862f1566accee9aa">EmberStatus</a> error code indicating one of the conditions described below.</td></tr>
  </table>
  </dd>
</dl>
<p>This callback will report an EmberStatus of <a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaab2bd374883faebcc28f1de3dff3f9b64" title="The Simulated EEPROM is telling the application that at least one flash page to be erased...">EMBER_SIM_EEPROM_ERASE_PAGE_GREEN</a> whenever a token is set and a page needs to be erased. If the main application loop does not periodically call halSimEepromErasePage(), it is best to then erase a page in response to <a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaab2bd374883faebcc28f1de3dff3f9b64" title="The Simulated EEPROM is telling the application that at least one flash page to be erased...">EMBER_SIM_EEPROM_ERASE_PAGE_GREEN</a>.</p>
<p>This callback will report an EmberStatus of <a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaa5f6ac0a4ed9f4c9a2487b5499445439b" title="The Simulated EEPROM is telling the application that at least one flash page must be erased...">EMBER_SIM_EEPROM_ERASE_PAGE_RED</a> when the pages <em>must</em> be erased to prevent data loss. halSimEepromErasePage() needs to be called until it returns 0 to indicate there are no more pages that need to be erased. Ignoring this indication and not erasing the pages will cause dropping the new data trying to be written.</p>
<p>This callback will report an EmberStatus of <a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaa8ef9318d516046106d5b15722207e953" title="The Simulated EEPROM has run out of room to write new data and the data trying to be set has been los...">EMBER_SIM_EEPROM_FULL</a> when the new data cannot be written due to unerased pages. <b>Not erasing pages regularly, not erasing in response to <a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaab2bd374883faebcc28f1de3dff3f9b64" title="The Simulated EEPROM is telling the application that at least one flash page to be erased...">EMBER_SIM_EEPROM_ERASE_PAGE_GREEN</a>, or not erasing in response to <a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaa5f6ac0a4ed9f4c9a2487b5499445439b" title="The Simulated EEPROM is telling the application that at least one flash page must be erased...">EMBER_SIM_EEPROM_ERASE_PAGE_RED</a> will cause <a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaa8ef9318d516046106d5b15722207e953" title="The Simulated EEPROM has run out of room to write new data and the data trying to be set has been los...">EMBER_SIM_EEPROM_FULL</a> and the new data will be lost!.</b> Any future write attempts will be lost as well.</p>
<p>This callback will report an EmberStatus of <a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaab3950bccfd495ba1bd3fb49cef84f1c0" title="The Simulated EEPROM is repairing itself. ">EMBER_SIM_EEPROM_REPAIRING</a> when the Simulated EEPROM needs to repair itself. While there's nothing for an app to do when the SimEE is going to repair itself (SimEE has to be fully functional for the rest of the system to work), alert the application to the fact that repairing is occurring. There are debugging scenarios where an app might want to know that repairing is happening; such as monitoring frequency. </p><dl class="section note"><dt>Note</dt><dd>Common situations will trigger an expected repair, such as using a new chip or changing token definitions.</dd></dl>
<p>If the callback ever reports the status <a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaa8f8d885233024c1574d5038aae549770" title="A fatal error has occurred while trying to write data to the Flash. The target memory attempting to b...">EMBER_ERR_FLASH_WRITE_INHIBITED</a> or <a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaaaada0c9d1d54629f5b0e0f2ae40f147e" title="A fatal error has occurred while trying to write data to the Flash and the write verification has fai...">EMBER_ERR_FLASH_VERIFY_FAILED</a>, a catastrophic failure has occurred in flash writing, meaning either the address being written is not empty or the write itself has failed. If <a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaa8f8d885233024c1574d5038aae549770" title="A fatal error has occurred while trying to write data to the Flash. The target memory attempting to b...">EMBER_ERR_FLASH_WRITE_INHIBITED</a> is encountered, the function ::halInternalSimEeRepair(false) should be called and the chip should then be reset to allow proper initialization to recover. If <a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaaaada0c9d1d54629f5b0e0f2ae40f147e" title="A fatal error has occurred while trying to write data to the Flash and the write verification has fai...">EMBER_ERR_FLASH_VERIFY_FAILED</a> is encountered the Simulated EEPROM (and tokens) on the specific chip with this error should not be trusted anymore. </p>

<p class="reference">References <a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaaaada0c9d1d54629f5b0e0f2ae40f147e">EMBER_ERR_FLASH_VERIFY_FAILED</a>, <a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaa8f8d885233024c1574d5038aae549770">EMBER_ERR_FLASH_WRITE_INHIBITED</a>, <a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaab2bd374883faebcc28f1de3dff3f9b64">EMBER_SIM_EEPROM_ERASE_PAGE_GREEN</a>, <a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaa5f6ac0a4ed9f4c9a2487b5499445439b">EMBER_SIM_EEPROM_ERASE_PAGE_RED</a>, <a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaa8ef9318d516046106d5b15722207e953">EMBER_SIM_EEPROM_FULL</a>, and <a class="el" href="group__status__codes.html#ggabdc825a7bb1ce986862f1566accee9aaab3950bccfd495ba1bd3fb49cef84f1c0">EMBER_SIM_EEPROM_REPAIRING</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Sep 10 2020 11:32:59 for Zigbee Application Framework API Reference by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
