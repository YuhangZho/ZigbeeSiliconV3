<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EmberZNet API Reference: For the EM35x SoC Platform: trust-center.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EmberZNet API Reference: For the EM35x SoC Platform
   &#160;<span id="projectnumber">EmberZNet 6.8.1.0</span>
   </div>
   <div id="projectbrief">For the EFR32 and EM3xx Platforms</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('trust-center_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">trust-center.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>EmberZNet security API See <a class="el" href="group__security.html">Security</a> for documentation.  
<a href="#details">More...</a></p>

<p><a href="trust-center_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga67f4fbc374dce84651af2c8c4d57a318"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trust__center.html#ga67f4fbc374dce84651af2c8c4d57a318">EMBER_FORM_TRUST_CENTER_NETWORK_BITMASK</a></td></tr>
<tr class="memdesc:ga67f4fbc374dce84651af2c8c4d57a318"><td class="mdescLeft">&#160;</td><td class="mdescRight">A Trust Center device configuration bitmask example. The Trust Center is expected to be set up with a Network Key Preconfigured Link Key that is global throughout all devices on the Network. The decision whether or not to send the key in-the-clear is NOT controlled through this bitmask. It is controlled via the emberTrustCenterJoinHandler(...) function.  <a href="group__trust__center.html#ga67f4fbc374dce84651af2c8c4d57a318">More...</a><br /></td></tr>
<tr class="separator:ga67f4fbc374dce84651af2c8c4d57a318"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae8a8fea570328903562eb6cb45336ed7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trust__center.html#gae8a8fea570328903562eb6cb45336ed7">EMBER_FORM_DISTRIBUTED_TRUST_CENTER_NETWORK_BITMASK</a></td></tr>
<tr class="memdesc:gae8a8fea570328903562eb6cb45336ed7"><td class="mdescLeft">&#160;</td><td class="mdescRight">A coordinator device configuration bitmask example. The coordinator is expected to be set up with a Network Key and a Preconfigured Link Key that is global throughout all devices on the Network. The decision whether or not to send the key in-the-clear is decentralized. Each individual router can make this decision via the emberTrustCenterJoinHandler(...) function.  <a href="group__trust__center.html#gae8a8fea570328903562eb6cb45336ed7">More...</a><br /></td></tr>
<tr class="separator:gae8a8fea570328903562eb6cb45336ed7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1ba84fa212092295db74b6139ff68cc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trust__center.html#gac1ba84fa212092295db74b6139ff68cc">emberTrustCenterLinkKeyRequestPolicy</a>&#160;&#160;&#160;<a class="el" href="group__trust__center.html#ga45cf16ca62d57b62791cd57cf9a179e8">emberTrustCenterLinkKeyRequestPolicies</a>[<a class="el" href="group__trust__center.html#ga8a2a759ad06a09e71dabd934042adc18">emGetNetworkIndexForForkedGlobal</a>()]</td></tr>
<tr class="separator:gac1ba84fa212092295db74b6139ff68cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga014a329b9bfe7fdcc56e3d3ffdf1323a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trust__center.html#ga014a329b9bfe7fdcc56e3d3ffdf1323a">emberAppLinkKeyRequestPolicy</a>&#160;&#160;&#160;<a class="el" href="group__trust__center.html#ga03ab067cf8491b0918df78b08524ce50">emberAppLinkKeyRequestPolicies</a>[<a class="el" href="group__trust__center.html#ga8a2a759ad06a09e71dabd934042adc18">emGetNetworkIndexForForkedGlobal</a>()]</td></tr>
<tr class="separator:ga014a329b9bfe7fdcc56e3d3ffdf1323a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga7965584d8894b1d609b6a688477baac1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__codes.html#gabdc825a7bb1ce986862f1566accee9aa">EmberStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trust__center.html#ga7965584d8894b1d609b6a688477baac1">emberBroadcastNextNetworkKey</a> (<a class="el" href="structEmberKeyData.html">EmberKeyData</a> *key)</td></tr>
<tr class="memdesc:ga7965584d8894b1d609b6a688477baac1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Broadcasts a new encryption key but does not tell the nodes in the network to start using it.  <a href="group__trust__center.html#ga7965584d8894b1d609b6a688477baac1">More...</a><br /></td></tr>
<tr class="separator:ga7965584d8894b1d609b6a688477baac1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabc629fb2a3166dc1a75efec28c205f58"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__codes.html#gabdc825a7bb1ce986862f1566accee9aa">EmberStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trust__center.html#gabc629fb2a3166dc1a75efec28c205f58">emberSendUnicastNetworkKeyUpdate</a> (EmberNodeId targetShort, EmberEUI64 targetLong, <a class="el" href="structEmberKeyData.html">EmberKeyData</a> *newKey)</td></tr>
<tr class="memdesc:gabc629fb2a3166dc1a75efec28c205f58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a unicast update of the network key to the target device. The APS command will be encrypted using the device's current APS link key. On success, the bit ::EMBER_KEY_UNICAST_NWK_KEY_UPDATE_SENT will be set in the link key table entry for the device. When a successful call is made to <a class="el" href="group__trust__center.html#gad7df687b4305b8c264e13c6e48cadd69" title="Broadcasts a switch key message to tell all nodes to change to the sequence number of the previously ...">emberBroadcastNetworkKeySwitch()</a>, the bit will be cleared for all entries.  <a href="group__trust__center.html#gabc629fb2a3166dc1a75efec28c205f58">More...</a><br /></td></tr>
<tr class="separator:gabc629fb2a3166dc1a75efec28c205f58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa54115c05ccb10d09b11c782fe3b7e3b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__codes.html#gabdc825a7bb1ce986862f1566accee9aa">EmberStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trust__center.html#gaa54115c05ccb10d09b11c782fe3b7e3b">emberUnicastCurrentNetworkKey</a> (EmberNodeId targetShort, EmberEUI64 targetLong, EmberNodeId parentShortId)</td></tr>
<tr class="memdesc:gaa54115c05ccb10d09b11c782fe3b7e3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends the network key to the target device. The APS command will be encrypted using the device's current APS link key. The call would fail if there is no link key avaialble.  <a href="group__trust__center.html#gaa54115c05ccb10d09b11c782fe3b7e3b">More...</a><br /></td></tr>
<tr class="separator:gaa54115c05ccb10d09b11c782fe3b7e3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7df687b4305b8c264e13c6e48cadd69"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__codes.html#gabdc825a7bb1ce986862f1566accee9aa">EmberStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trust__center.html#gad7df687b4305b8c264e13c6e48cadd69">emberBroadcastNetworkKeySwitch</a> (void)</td></tr>
<tr class="memdesc:gad7df687b4305b8c264e13c6e48cadd69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Broadcasts a switch key message to tell all nodes to change to the sequence number of the previously sent Alternate Encryption Key.  <a href="group__trust__center.html#gad7df687b4305b8c264e13c6e48cadd69">More...</a><br /></td></tr>
<tr class="separator:gad7df687b4305b8c264e13c6e48cadd69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea7b346ab4db5443316930328033285b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ember__types.html#ga395f1f81009b39817c6ad771c398827b">EmberJoinDecision</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trust__center.html#gaea7b346ab4db5443316930328033285b">emberTrustCenterJoinHandler</a> (EmberNodeId newNodeId, EmberEUI64 newNodeEui64, <a class="el" href="group__ember__types.html#gae85447b46d5b9eae4ebca3e656646659">EmberDeviceUpdate</a> status, EmberNodeId parentOfNewNode)</td></tr>
<tr class="memdesc:gaea7b346ab4db5443316930328033285b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback to allow the application running on the Trust Center (which is the coordinator for ZigBee networks) to control which nodes are allowed to join the network. If the node is allowed to join, the trust center must decide whether to send the Network Key encrypted or unencrypted to the joining node.  <a href="group__trust__center.html#gaea7b346ab4db5443316930328033285b">More...</a><br /></td></tr>
<tr class="separator:gaea7b346ab4db5443316930328033285b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadaa9bc1ff2c7a6c6cedecb8b510ac058"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__codes.html#gabdc825a7bb1ce986862f1566accee9aa">EmberStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trust__center.html#gadaa9bc1ff2c7a6c6cedecb8b510ac058">emberBecomeTrustCenter</a> (<a class="el" href="structEmberKeyData.html">EmberKeyData</a> *newNetworkKey)</td></tr>
<tr class="memdesc:gadaa9bc1ff2c7a6c6cedecb8b510ac058"><td class="mdescLeft">&#160;</td><td class="mdescRight">Causes a coordinator to become the Trust Center when it is operating in a network that is not using one. It will send out an updated Network Key to all devices that will indicate a transition of the network to now use a Trust Center. The Trust Center should also switch all devices to using the new network key with a call to <a class="el" href="group__trust__center.html#gad7df687b4305b8c264e13c6e48cadd69" title="Broadcasts a switch key message to tell all nodes to change to the sequence number of the previously ...">emberBroadcastNetworkKeySwitch()</a>.  <a href="group__trust__center.html#gadaa9bc1ff2c7a6c6cedecb8b510ac058">More...</a><br /></td></tr>
<tr class="separator:gadaa9bc1ff2c7a6c6cedecb8b510ac058"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a2a759ad06a09e71dabd934042adc18"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trust__center.html#ga8a2a759ad06a09e71dabd934042adc18">emGetNetworkIndexForForkedGlobal</a> (void)</td></tr>
<tr class="memdesc:ga8a2a759ad06a09e71dabd934042adc18"><td class="mdescLeft">&#160;</td><td class="mdescRight">This variable controls the policy that the Trust Center uses for determining whether to allow or deny requests for Trust Center link keys.  <a href="group__trust__center.html#ga8a2a759ad06a09e71dabd934042adc18">More...</a><br /></td></tr>
<tr class="separator:ga8a2a759ad06a09e71dabd934042adc18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf74958c082b2b0324f2ba340c3af70df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__codes.html#gabdc825a7bb1ce986862f1566accee9aa">EmberStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trust__center.html#gaf74958c082b2b0324f2ba340c3af70df">emberSendRemoveDevice</a> (EmberNodeId destShort, EmberEUI64 destLong, EmberEUI64 deviceToRemoveLong)</td></tr>
<tr class="memdesc:gaf74958c082b2b0324f2ba340c3af70df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends an APS remove device command to the destination. If the destination is an end device, this must be sent to the parent of the end device. In that case, the deviceToRemoveLong and the destLong will be different values. Otherwise, if a router is being asked to leave, those parameters will be the same. This command will be APS encrypted with the destination device's link key, which means a link key must be present.  <a href="group__trust__center.html#gaf74958c082b2b0324f2ba340c3af70df">More...</a><br /></td></tr>
<tr class="separator:gaf74958c082b2b0324f2ba340c3af70df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga996c5ff3bd65e9e4bc5e25ae3a9478db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__codes.html#gabdc825a7bb1ce986862f1566accee9aa">EmberStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trust__center.html#ga996c5ff3bd65e9e4bc5e25ae3a9478db">emberSendTrustCenterLinkKey</a> (EmberNodeId destinationNodeId, EmberEUI64 destinationEui64)</td></tr>
<tr class="memdesc:ga996c5ff3bd65e9e4bc5e25ae3a9478db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends the trust center link key to a node.  <a href="group__trust__center.html#ga996c5ff3bd65e9e4bc5e25ae3a9478db">More...</a><br /></td></tr>
<tr class="separator:ga996c5ff3bd65e9e4bc5e25ae3a9478db"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga45cf16ca62d57b62791cd57cf9a179e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ember__types.html#ga88c8cad59611e0760e7480c6e928968d">EmberTcLinkKeyRequestPolicy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trust__center.html#ga45cf16ca62d57b62791cd57cf9a179e8">emberTrustCenterLinkKeyRequestPolicies</a> []</td></tr>
<tr class="separator:ga45cf16ca62d57b62791cd57cf9a179e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03ab067cf8491b0918df78b08524ce50"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ember__types.html#ga105f881da2014d4fc25ab26745e83247">EmberAppLinkKeyRequestPolicy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trust__center.html#ga03ab067cf8491b0918df78b08524ce50">emberAppLinkKeyRequestPolicies</a> []</td></tr>
<tr class="memdesc:ga03ab067cf8491b0918df78b08524ce50"><td class="mdescLeft">&#160;</td><td class="mdescRight">This variable controls the policy that the Trust Center uses for determining whether to allow or deny requests for application link keys between device pairs. When a request is received and the policy is <a class="el" href="group__ember__types.html#gga88c8cad59611e0760e7480c6e928968dab2826b2bd8c4839687b91e7be2f37c28">EMBER_ALLOW_TC_LINK_KEY_REQUEST_AND_SEND_CURRENT_KEY</a>, the TC will generate a random key and send a copy to both devices encrypted with their individual link keys.  <a href="group__trust__center.html#ga03ab067cf8491b0918df78b08524ce50">More...</a><br /></td></tr>
<tr class="separator:ga03ab067cf8491b0918df78b08524ce50"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>EmberZNet security API See <a class="el" href="group__security.html">Security</a> for documentation. </p>
<h1>License</h1>
<p><b>Copyright 2018 Silicon Laboratories Inc. www.silabs.com</b></p>
<p>The licensor of this software is Silicon Laboratories Inc. Your use of this software is governed by the terms of Silicon Labs Master Software License Agreement (MSLA) available at www.silabs.com/about-us/legal/master-software-license-agreement. This software is distributed to you in Source Code format and is governed by the sections of the MSLA applicable to Source Code. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68c8c0b2434fae8253da7e00b6909b30.html">stack</a></li><li class="navelem"><a class="el" href="dir_6f85cdca7286bdb9e733c15e92d051a4.html">include</a></li><li class="navelem"><a class="el" href="trust-center_8h.html">trust-center.h</a></li>
    <li class="footer">Generated on Thu Sep 10 2020 11:32:14 for EmberZNet API Reference: For the EM35x SoC Platform by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
