<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EmberZNet API Reference: For the EM35x SoC Platform: Simulated EEPROM 2</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EmberZNet API Reference: For the EM35x SoC Platform
   &#160;<span id="projectnumber">EmberZNet 6.8.1.0</span>
   </div>
   <div id="projectbrief">For the EFR32 and EM3xx Platforms</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__simeeprom2.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Simulated EEPROM 2<div class="ingroups"><a class="el" href="group__hal.html">Hardware Abstraction Layer (HAL) API Reference</a> &raquo; <a class="el" href="group__tokens.html">Token Access</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<dl class="section note"><dt>Note</dt><dd><b>Simulated EEPROM 2 is only available for use in the NCP.</b> </dd>
<dd>
Simulated EEPROM and Simulated EEPROM 2 functions cannot be intermixed; SimEE and SimEE2 are mutually exclusive. The functions in <a class="el" href="group__simeeprom.html">Simulated EEPROM</a> cannot be used with SimEE2 and the functons in <a class="el" href="group__simeeprom2.html">Simulated EEPROM 2</a> cannot be used with SimEE.</dd></dl>
<p>The Simulated EEPROM 2 system (typically referred to as SimEE2) is designed to operate under the <a class="el" href="group__tokens.html">Token Access</a> API and provide a non-volatile storage system. Since the flash write cycles are finite, the SimEE2's primary purpose is to perform wear leveling across several hardware flash pages, ultimately increasing the number of times tokens may be written before a hardware failure.</p>
<p>Compiling the application with the define USE_SIMEE2 will switch the application from using the original SimEE to SimEE2.</p>
<dl class="section note"><dt>Note</dt><dd>Only the NCP is capable of upgrading it's existing SimEE data to SimEE2. It's not possible to downgrade from SimEE2.</dd></dl>
<p>The Simulated EEPROM 2 needs to periodically perform a page erase operation to reclaim storage area for future token writes. The page erase operation requires an ATOMIC block of 21ms. Since this is such a long time to not be able to service any interrupts, the page erase operation is under application control providing the application the opportunity to decide when to perform the operation and complete any special handling that might be needed.</p>
<dl class="section note"><dt>Note</dt><dd>The best, safest, and recommended practice is for the application to regularly and always call the function <a class="el" href="group__simeeprom.html#ga3ce0849cd7641f67f9a3d8ac63df743d" title="Erases a hardware flash page, if needed. ">halSimEepromErasePage()</a> when the application can expect and deal with the page erase delay. <a class="el" href="group__simeeprom.html#ga3ce0849cd7641f67f9a3d8ac63df743d" title="Erases a hardware flash page, if needed. ">halSimEepromErasePage()</a> will immediately return if there is nothing to erase. If there is something that needs to be erased, doing so as regularly and as soon as possible will keep the SimEE2 in the healthiest state possible.</dd></dl>
<p>SimEE2 differs from the original SimEE in terms of size and speed. SimEE2 holds more data but at the expense of consuming more overall flash to support a new wear levelling technique. SimEE2's worst case execution time under normal behavior is faster and finite, but the average execution time is longer.</p>
<p>See <a class="el" href="sim-eeprom-cortexm3_8h.html" title="Simulated EEPROM system for wear leveling token storage across flash. See Simulated EEPROM 2 for docu...">hal/plugin/sim-eeprom/sim-eeprom-cortexm3.h</a> for source code. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Sep 10 2020 11:32:14 for EmberZNet API Reference: For the EM35x SoC Platform by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
