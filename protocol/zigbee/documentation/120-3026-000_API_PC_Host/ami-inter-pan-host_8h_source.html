<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EmberZNet API Reference: For the PC Host platform: ami-inter-pan-host.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EmberZNet API Reference: For the PC Host platform
   &#160;<span id="projectnumber">EmberZNet 6.8.1.0</span>
   </div>
   <div id="projectbrief">For the EFR32 and EM3xx Platforms</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ami-inter-pan-host_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ami-inter-pan-host.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ami-inter-pan-host_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/***************************************************************************/</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#ifndef AMI_INTER_PAN_HOST_H</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#define AMI_INTER_PAN_HOST_H</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="group__message.html#ga863e7f1949933404c860e8aef7723dc2">   38</a></span>&#160;<span class="preprocessor">#define INTER_PAN_UNICAST   0x03</span></div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="group__message.html#gaa80b00a03b8376f5325d712b20a2e27a">   39</a></span>&#160;<span class="preprocessor">#define INTER_PAN_BROADCAST 0x0B</span></div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="group__message.html#gaba09538bc0e840dfb88a209cf1d4ce46">   40</a></span>&#160;<span class="preprocessor">#define INTER_PAN_MULTICAST 0x0F</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">// Frame control, sequence, dest PAN ID, dest, source PAN ID, source.</span></div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="group__message.html#ga51be12efb9e4edc1d0132fc405380d5c">   43</a></span>&#160;<span class="preprocessor">#define MAX_INTER_PAN_MAC_SIZE (2 + 1 + 2 + 8 + 2 + 8)</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">//Short form has a short destination.</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">// NWK stub frame has two control bytes.</span></div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="group__message.html#ga978c6b4a431e78b9b22d73fc30e8b889">   47</a></span>&#160;<span class="preprocessor">#define STUB_NWK_SIZE 2</span></div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="group__message.html#ga40d7c39bfa1b3bf1385c345b851aca13">   48</a></span>&#160;<span class="preprocessor">#define STUB_NWK_FRAME_CONTROL 0x000B</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">// APS frame control, group ID, cluster ID, profile ID</span></div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="group__message.html#ga6ce3b454a51326c63a3a93514648283d">   51</a></span>&#160;<span class="preprocessor">#define MAX_STUB_APS_SIZE (1 + 2 + 2 + 2)</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">// Short form has no group ID.</span></div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="group__message.html#gae536eaf82df040ee023248a974b79953">   54</a></span>&#160;<span class="preprocessor">#define MAX_INTER_PAN_HEADER_SIZE \</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">  (MAX_INTER_PAN_MAC_SIZE + STUB_NWK_SIZE + MAX_STUB_APS_SIZE)</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  uint8_t messageType;            <span class="comment">// one of the INTER_PAN_...CAST values</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="comment">// MAC addressing</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="comment">// For outgoing messages this is the destination.  For incoming messages</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="comment">// it is the source, which always has a long address.</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  uint16_t panId;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordtype">bool</span> hasLongAddress;       <span class="comment">// always true for incoming messages</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  EmberNodeId shortAddress;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  EmberEUI64 longAddress;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">// APS data</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  uint16_t profileId;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  uint16_t clusterId;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  uint16_t groupId;               <span class="comment">// only used for INTER_PAN_MULTICAST</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;} <a class="code" href="structInterPanHeader.html">InterPanHeader</a>;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;uint8_t <a class="code" href="group__message.html#ga1a6954c4aff2ac4ab7ff230be3450022">makeInterPanMessage</a>(<a class="code" href="structInterPanHeader.html">InterPanHeader</a> *headerData,</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                            uint8_t *message,</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                            uint8_t maxLength,</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                            uint8_t *payload,</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                            uint8_t payloadLength);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;uint8_t <a class="code" href="group__message.html#gac55d8837933a52ab5d759b2718cbfa96">parseInterPanMessage</a>(uint8_t *message,</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                             uint8_t messageLength,</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                             <a class="code" href="structInterPanHeader.html">InterPanHeader</a> *headerData);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">#endif // AMI_INTER_PAN_HOST_H</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="ttc" id="group__message_html_ga1a6954c4aff2ac4ab7ff230be3450022"><div class="ttname"><a href="group__message.html#ga1a6954c4aff2ac4ab7ff230be3450022">makeInterPanMessage</a></div><div class="ttdeci">uint8_t makeInterPanMessage(InterPanHeader *headerData, uint8_t *message, uint8_t maxLength, uint8_t *payload, uint8_t payloadLength)</div><div class="ttdoc">Create an interpan message. message needs to have enough space for the message contents. Upon return, the return value will be the length of the message, or 0 in case of error. </div></div>
<div class="ttc" id="structInterPanHeader_html"><div class="ttname"><a href="structInterPanHeader.html">InterPanHeader</a></div><div class="ttdoc">A struct for keeping track of all of the header info. </div><div class="ttdef"><b>Definition:</b> ami-inter-pan.h:61</div></div>
<div class="ttc" id="group__message_html_gac55d8837933a52ab5d759b2718cbfa96"><div class="ttname"><a href="group__message.html#gac55d8837933a52ab5d759b2718cbfa96">parseInterPanMessage</a></div><div class="ttdeci">uint8_t parseInterPanMessage(uint8_t *message, uint8_t messageLength, InterPanHeader *headerData)</div><div class="ttdoc">This is meant to be called on the message passed to emberMacPassthroughMessageHandler(...). The header is parsed and the various fields are written to the InterPanHeader. The returned value is the offset of the payload in the message, or 0 if the message is not a correctly formed AMI interPAN message. </div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_ba148919f8db16f2dd41a2921d1bb7b1.html">app</a></li><li class="navelem"><a class="el" href="dir_221064f35fbe1b91f61fd946b28cccdc.html">util</a></li><li class="navelem"><a class="el" href="dir_6a1fe7d8dd4aec026ef1326a210838d8.html">zigbee-framework</a></li><li class="navelem"><a class="el" href="ami-inter-pan-host_8h.html">ami-inter-pan-host.h</a></li>
    <li class="footer">Generated on Thu Sep 10 2020 11:33:59 for EmberZNet API Reference: For the PC Host platform by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
